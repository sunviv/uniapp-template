import{d as e,r as a,g as t,c as s,w as l,o,a as i,b as n,e as c,f as d,i as u,n as r,h as p,j as m,k as v,t as f,l as h,m as w,p as b,F as _,q as y,u as g,s as x,v as k,x as $,y as C,z as I,A as T,B as V,C as j,D as S,E as L,G as E,H as F,I as z,J as H}from"./index-Bm-17c-5.js";import{_ as A,a as B}from"./wd-cell-group.Brz2dZ8-.js";import{m as D,a as G,b as M,c as N,d as O,u as Q,e as q,o as U,i as X,f as Y,g as J,h as P,p as W,j as K,w as R,k as Z,l as ee,n as ae}from"./wd-icon.DJgfGrbg.js";import{u as te,a as se,_ as le}from"./wd-button.BnbYFSMA.js";import{_ as oe}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{u as ie}from"./useChildren.DTKjntKe.js";import{w as ne}from"./wd-transition.hVI_n4_K.js";import{q as ce,r as de,p as ue,c as re}from"./clickoutside.Bj5MVzvY.js";import"./types.BVQGSQrd.js";const pe=Symbol("wd-collapse"),me={...N,customMoreSlotClass:M(""),modelValue:{type:[String,Array,Boolean]},accordion:G(!1),viewmore:G(!1),useMoreSlot:G(!1),lineNum:D(2)},ve=oe(e({name:"wd-collapse-item",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...N,customBodyClass:M(""),customBodyStyle:M(""),title:M(""),disabled:G(!1),name:O(String),beforeExpend:Function},setup(e,{expose:w}){const b=a(`collapseId${Q()}`),_=e,{parent:y,index:g}=te(pe),x=a(""),k=a(!1),$=a(!1),{proxy:C}=t(),I=s(()=>0===g.value),T=s(()=>{const e={};return k.value&&(e.transition="height 0.3s ease-in-out"),$.value?x.value&&(e.height=q(x.value)):e.height="0px",U(e)}),V=s(()=>{const e=y&&(null==y?void 0:y.props.modelValue)||[],{name:a}=_;return X(e)&&e===a||Y(e)&&e.indexOf(a)>=0});async function j(e=!0){try{e&&await new Promise((e,a)=>{const{name:t}=_;if(!$.value&&_.beforeExpend){const s=_.beforeExpend(t);s||a(),K(s)?s.then(()=>e()).catch(a):e()}else e()}),J(`#${b.value}`,!1,C).then(async e=>{const{height:a}=e;x.value=P(a)?Number(a):"",await W(),V.value?$.value=!0:$.value=!1,k.value||(k.value=!0)})}catch(a){}}function S(){$.value&&(x.value="")}async function L(){if(!_.disabled)try{await j();const{name:e}=_;y&&y.toggle(e,!$.value)}catch(e){}}return l(()=>V.value,e=>{j(e)}),o(()=>{j(V.value)}),w({getExpanded:function(){return $.value},updateExpand:j}),(e,a)=>{const t=m,s=u;return n(),i(s,{class:r(`wd-collapse-item ${e.disabled?"is-disabled":""} is-border ${e.customClass}`),style:h(e.customStyle)},{default:c(()=>[d(s,{class:r(`wd-collapse-item__header ${$.value?"is-expanded":""} ${I.value?"wd-collapse-item__header-first":""} ${e.$slots.title?"is-custom":""}`),onClick:L},{default:c(()=>[p(e.$slots,"title",{expanded:$.value,disabled:e.disabled,isFirst:I.value},()=>[d(t,{class:"wd-collapse-item__title"},{default:c(()=>[v(f(e.title),1)]),_:1}),d(R,{name:"arrow-down","custom-class":"wd-collapse-item__arrow "+($.value?"is-retract":"")},null,8,["custom-class"])],!0)]),_:3},8,["class"]),d(s,{class:"wd-collapse-item__wrapper",style:h(T.value),onTransitionend:S},{default:c(()=>[d(s,{class:r(["wd-collapse-item__body",e.customBodyClass]),style:h(e.customBodyStyle),id:b.value},{default:c(()=>[p(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style","id"])]),_:3},8,["style"])]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-8e04a9fd"]]),fe=oe(e({name:"wd-collapse",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:me,emits:["change","update:modelValue"],setup(e,{expose:t,emit:s}){const o=e,m=s,{translate:v}=se("collapse"),x=a(0),{linkChildren:k,children:$}=ie(pe);function C(e){m("update:modelValue",e),m("change",{value:e})}k({props:o,toggle:function(e,a){const{accordion:t,modelValue:s}=o;C(t?e===s?"":e:a?s.concat(e):s.filter(a=>a!==e))}}),l(()=>o.modelValue,e=>{const{viewmore:a,accordion:t}=o;t&&"string"!=typeof e||!t&&!a&&Y(e)},{deep:!0}),l(()=>o.lineNum,e=>{},{deep:!0,immediate:!0}),w(()=>{const{lineNum:e,viewmore:a,modelValue:t}=o;x.value=a&&!t?e:0});function I(){m("update:modelValue",!o.modelValue),m("change",{value:!o.modelValue})}return t({toggleAll:(e={})=>{if(o.accordion)return;Z(e)&&(e={expanded:e});const{expanded:a,skipDisabled:t}=e,s=[];$.forEach((e,l)=>{e.disabled&&t?e.$.exposed.getExpanded()&&s.push(e.name||l):(P(a)?a:!e.$.exposed.getExpanded())&&s.push(e.name||l)}),C(s)}}),(e,a)=>{const t=u;return n(),i(t,{class:r(`wd-collapse ${e.viewmore?"is-viewmore":""} ${e.customClass}`),style:h(e.customStyle)},{default:c(()=>[e.viewmore?(n(),i(t,{key:1},{default:c(()=>[d(t,{class:r(`wd-collapse__content ${e.modelValue?"":"is-retract"} `),style:h(`-webkit-line-clamp: ${x.value}; -webkit-box-orient: vertical`)},{default:c(()=>[p(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"]),d(t,{class:"wd-collapse__more",onClick:I},{default:c(()=>[e.useMoreSlot?(n(),i(t,{key:0,class:r(e.customMoreSlotClass)},{default:c(()=>[p(e.$slots,"more",{},void 0,!0)]),_:3},8,["class"])):(n(),b(_,{key:1},[y("span",{class:"wd-collapse__more-txt"},f(e.modelValue?g(v)("retract"):g(v)("expand")),1),d(t,{class:r("wd-collapse__arrow "+(e.modelValue?"is-retract":""))},{default:c(()=>[d(R,{name:"arrow-down"})]),_:1},8,["class"])],64))]),_:3})]),_:3})):p(e.$slots,"default",{key:0},void 0,!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0f19b337"]]);const he=oe(e({name:"wd-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...N,active:G(!1),type:M("primary"),position:M("right-bottom"),direction:M("top"),disabled:G(!1),inactiveIcon:M("add"),activeIcon:M("close"),zIndex:D(99),draggable:G(!1),gap:{type:Object,default:()=>({})},expandable:G(!0)},emits:["update:active","click"],setup(e,{expose:m,emit:v}){const f=e,w=v,b=a(!1),_=a(!1),y=k(ce,null),{proxy:g}=t();l(()=>f.active,e=>{_.value=e},{immediate:!0,deep:!0}),l(()=>_.value,e=>{e&&(y&&y.closeOther?y.closeOther(g):re(g))});const j=a(f.direction);l(()=>f.direction,e=>j.value=e),l(()=>f.position,()=>H());const S=a(0),L=a(0),E=$({width:0,height:0}),F=$({width:56,height:56}),z=$({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function H(){const e=f.position,{minLeft:a,minTop:t,maxLeft:s,maxTop:l}=z,o=(l+t)/2,i=(s+a)/2;switch(e){case"left-top":S.value=t,L.value=a;break;case"right-top":S.value=t,L.value=s;break;case"left-bottom":S.value=l,L.value=a;break;case"right-bottom":S.value=l,L.value=s;break;case"left-center":S.value=o,L.value=a;break;case"right-center":S.value=o,L.value=s;break;case"top-center":S.value=t,L.value=i;break;case"bottom-center":S.value=l,L.value=i}}const A=$({x:0,y:0}),B=a(!1);function D(e){if(!1===f.draggable)return;const a=e.touches[0];A.x=a.clientX-L.value,A.y=a.clientY-S.value,B.value=!1}function G(e){if(!1===f.draggable)return;const a=e.touches[0],{minLeft:t,minTop:s,maxLeft:l,maxTop:o}=z;let i=a.clientX-A.x,n=a.clientY-A.y;i<t?i=t:i>l&&(i=l),n<s?n=s:n>o&&(n=o),S.value=n,L.value=i}function M(){if(!1===f.draggable)return;const e=E.width/2,a=L.value+F.width/2;B.value=!0,a<e?(L.value=z.minLeft,j.value="right"):(L.value=z.maxLeft,j.value="left")}const N=s(()=>{const e={top:S.value+"px",left:L.value+"px",transition:B.value?"all ease 0.3s":"none"};return P(f.zIndex)&&(e["z-index"]=f.zIndex),`${U(e)}${f.customStyle}`});function O(){f.disabled||(f.expandable?(_.value=!_.value,w("update:active",_.value)):w("click"))}return o(()=>{y&&y.pushToQueue?y.pushToQueue(g):ue(g);const{start:e}=function(e){const t=a(null),s=()=>{ee&&ae(t.value)?cancelAnimationFrame(t.value):P(t.value)&&clearTimeout(t.value)};return x(()=>{s()}),{start:()=>{const a=a=>{e(a)};t.value=ee?requestAnimationFrame(a):setTimeout(()=>a(Date.now()),1e3/30)},cancel:s}}(async()=>{await async function(){const e=V();try{const e=await J("#trigger",!1,g);F.width=e.width||56,F.height=e.height||56}catch(o){}const{top:a=16,left:t=16,right:s=16,bottom:l=16}=f.gap;E.width=e.windowWidth,E.height=ee?e.windowTop+e.windowHeight:e.windowHeight,z.minTop=ee?e.windowTop+a:a,z.minLeft=t,z.maxLeft=E.width-F.width-s,z.maxTop=E.height-F.height-l}(),H(),b.value=!0});e()}),C(()=>{y&&y.removeFromQueue?y.removeFromQueue(g):de(g)}),m({open:function(){_.value=!0,w("update:active",!0)},close:function(){_.value=!1,w("update:active",!1)}}),(e,a)=>{const t=u;return n(),i(t,{onTouchmove:T(G,["stop","prevent"]),onTouchstart:D,onTouchend:M,class:r(`wd-fab ${e.customClass}`),style:h(N.value),onClick:a[1]||(a[1]=T(()=>{},["stop"]))},{default:c(()=>[d(t,{onClick:a[0]||(a[0]=T(()=>{},["stop"])),style:h({visibility:b.value?"visible":"hidden"}),id:"trigger"},{default:c(()=>[e.$slots.trigger?p(e.$slots,"trigger",{key:0},void 0,!0):(n(),i(le,{key:1,onClick:O,"custom-class":"wd-fab__trigger",round:"",type:e.type,disabled:e.disabled},{default:c(()=>[d(R,{"custom-class":"wd-fab__icon",name:_.value?e.activeIcon:e.inactiveIcon},null,8,["name"])]),_:1},8,["type","disabled"]))]),_:3},8,["style"]),e.expandable?(n(),i(ne,{key:0,"enter-class":`wd-fab__transition-enter--${j.value}`,"enter-active-class":"wd-fab__transition-enter-active","leave-to-class":`wd-fab__transition-leave-to--${j.value}`,"leave-active-class":"wd-fab__transition-leave-active","custom-class":`wd-fab__actions wd-fab__actions--${j.value}`,show:_.value,duration:300},{default:c(()=>[p(e.$slots,"default",{},void 0,!0)]),_:3},8,["enter-class","leave-to-class","custom-class","show"])):I("",!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-c443589e"]]),we=oe(e({__name:"index",setup(e){const t=a(["dataFilter","dataDisplay","dataInput"]);function s(e){H({url:e})}function l(e){window.open(e,"_blank")}return j(()=>{S("/"),L()}),(e,a)=>{const o=u,r=E(F("wd-cell"),A),p=E(F("wd-cell-group"),B),m=E(F("wd-collapse-item"),ve),f=E(F("wd-collapse"),fe),h=E(F("wd-icon"),R),w=E(F("wd-button"),le),b=E(F("wd-fab"),he);return n(),i(o,{class:"h-full"},{default:c(()=>[d(o,{class:"bg-white px-4 py-6"},{default:c(()=>[d(o,{class:"text-center text-xl text-font-color-primary font-bold"},{default:c(()=>[v(" uniapp-template@1.0.0 ")]),_:1}),d(o,{class:"mt-4 text-font-color-primary"},{default:c(()=>[v(" Uniapp 开发模版，兼容 App、H5、小程序 ")]),_:1})]),_:1}),d(f,{modelValue:g(t),"onUpdate:modelValue":a[6]||(a[6]=e=>z(t)?t.value=e:null),class:"mx-3 mt-2 _el_bg-transparent"},{default:c(()=>[d(m,{title:"数据查询筛选",name:"dataFilter",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:c(()=>[d(p,{border:"",class:"border"},{default:c(()=>[d(r,{title:"搜素+标签页+分页","is-link":"",onClick:a[0]||(a[0]=e=>s("/pages/examples/data-filter/search-tab")),class:"is-link"}),d(r,{title:"标签页+简单条件筛选","is-link":"",onClick:a[1]||(a[1]=e=>s("/pages/examples/data-filter/tab-filter")),class:"is-link"}),d(r,{title:"排序+下拉条件","is-link":"",onClick:a[2]||(a[2]=e=>s("/pages/examples/data-filter/sort-drop")),class:"is-link"}),d(r,{title:"显式条件筛选","is-link":"",onClick:a[3]||(a[3]=e=>s("/pages/examples/data-filter/explicit-filter")),class:"is-link"})]),_:1})]),_:1}),y("div",{class:"h-16 bg-placeholder"}),d(m,{title:"数据展示",name:"dataDisplay",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:c(()=>[d(p,{border:"",class:"border"},{default:c(()=>[d(r,{title:"列表+普通分页","is-link":"",onClick:a[4]||(a[4]=e=>s("/pages/examples/data-display/data-list")),class:"is-link"})]),_:1})]),_:1}),y("div",{class:"h-16 bg-placeholder"}),d(m,{title:"数据录入",name:"dataInput",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:c(()=>[d(p,{border:"",class:"border"},{default:c(()=>[d(r,{title:"表单综合案例","is-link":"",onClick:a[5]||(a[5]=e=>s("/pages/examples/data-input/form-demo")),class:"is-link"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),y("div",{class:"h-120"}),d(b,{type:"primary",position:"right-bottom",direction:"top"},{default:c(()=>[d(w,{"custom-class":"w-64 h-64 m-1",type:"primary",round:"",onClick:a[7]||(a[7]=e=>l("https://github.com/sunviv/uniapp-template")),class:"round"},{default:c(()=>[d(h,{name:"github-filled",size:"22px"})]),_:1}),d(w,{"custom-class":"w-64 h-64 m-1",type:"warning",round:"",onClick:a[8]||(a[8]=e=>l("https://sunviv.github.io/uniapp-template-doc")),class:"round"},{default:c(()=>[d(h,{name:"help",size:"22px"})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-7dda360f"]]);export{we as default};
