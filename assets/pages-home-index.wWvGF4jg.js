import{d as e,r as a,g as s,c as l,w as t,o,a as i,b as d,e as n,f as c,i as r,n as u,h as p,j as m,k as f,t as _,l as v,m as y,p as x,F as b,q as k,u as w,s as g,v as h,x as C,y as $,z as V,A as S}from"./index-CSAJBPP5.js";import{_ as j,a as E}from"./wd-cell-group.BPA9l2fk.js";import{m as I,a as F,b as B,c as N,d as A,u as M,e as D,o as H,i as q,f as G,g as T,h as U,p as z,j as O,w as P,k as J}from"./wd-icon.g2y9GXSC.js";import{u as K,a as L}from"./useTranslate.P2iqfX5g.js";import{_ as Q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{u as R}from"./useChildren.iGSJWyDY.js";import{u as W}from"./index.BpuJMXNz.js";import"./types.B9dCK7lQ.js";const X=Symbol("wd-collapse"),Y={...N,customMoreSlotClass:B(""),modelValue:{type:[String,Array,Boolean]},accordion:F(!1),viewmore:F(!1),useMoreSlot:F(!1),lineNum:I(2)},Z=Q(e({name:"wd-collapse-item",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...N,customBodyClass:B(""),customBodyStyle:B(""),title:B(""),disabled:F(!1),name:A(String),beforeExpend:Function},setup(e,{expose:y}){const x=a(`collapseId${M()}`),b=e,{parent:k,index:w}=K(X),g=a(""),h=a(!1),C=a(!1),{proxy:$}=s(),V=l(()=>0===w.value),S=l(()=>{const e={};return h.value&&(e.transition="height 0.3s ease-in-out"),C.value?g.value&&(e.height=D(g.value)):e.height="0px",H(e)}),j=l(()=>{const e=k&&(null==k?void 0:k.props.modelValue)||[],{name:a}=b;return q(e)&&e===a||G(e)&&e.indexOf(a)>=0});async function E(e=!0){try{e&&await new Promise((e,a)=>{const{name:s}=b;if(!C.value&&b.beforeExpend){const l=b.beforeExpend(s);l||a(),O(l)?l.then(()=>e()).catch(a):e()}else e()}),T(`#${x.value}`,!1,$).then(async e=>{const{height:a}=e;g.value=U(a)?Number(a):"",await z(),j.value?C.value=!0:C.value=!1,h.value||(h.value=!0)})}catch(a){}}function I(){C.value&&(g.value="")}async function F(){if(!b.disabled)try{await E();const{name:e}=b;k&&k.toggle(e,!C.value)}catch(e){}}return t(()=>j.value,e=>{E(e)}),o(()=>{E(j.value)}),y({getExpanded:function(){return C.value},updateExpand:E}),(e,a)=>{const s=m,l=r;return d(),i(l,{class:u(`wd-collapse-item ${e.disabled?"is-disabled":""} is-border ${e.customClass}`),style:v(e.customStyle)},{default:n(()=>[c(l,{class:u(`wd-collapse-item__header ${C.value?"is-expanded":""} ${V.value?"wd-collapse-item__header-first":""} ${e.$slots.title?"is-custom":""}`),onClick:F},{default:n(()=>[p(e.$slots,"title",{expanded:C.value,disabled:e.disabled,isFirst:V.value},()=>[c(s,{class:"wd-collapse-item__title"},{default:n(()=>[f(_(e.title),1)]),_:1}),c(P,{name:"arrow-down","custom-class":"wd-collapse-item__arrow "+(C.value?"is-retract":"")},null,8,["custom-class"])],!0)]),_:3},8,["class"]),c(l,{class:"wd-collapse-item__wrapper",style:v(S.value),onTransitionend:I},{default:n(()=>[c(l,{class:u(["wd-collapse-item__body",e.customBodyClass]),style:v(e.customBodyStyle),id:x.value},{default:n(()=>[p(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style","id"])]),_:3},8,["style"])]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-8e04a9fd"]]),ee=Q(e({name:"wd-collapse",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:Y,emits:["change","update:modelValue"],setup(e,{expose:s,emit:l}){const o=e,m=l,{translate:f}=L("collapse"),g=a(0),{linkChildren:h,children:C}=R(X);function $(e){m("update:modelValue",e),m("change",{value:e})}h({props:o,toggle:function(e,a){const{accordion:s,modelValue:l}=o;$(s?e===l?"":e:a?l.concat(e):l.filter(a=>a!==e))}}),t(()=>o.modelValue,e=>{const{viewmore:a,accordion:s}=o;s&&"string"!=typeof e||!s&&!a&&G(e)},{deep:!0}),t(()=>o.lineNum,e=>{},{deep:!0,immediate:!0}),y(()=>{const{lineNum:e,viewmore:a,modelValue:s}=o;g.value=a&&!s?e:0});function V(){m("update:modelValue",!o.modelValue),m("change",{value:!o.modelValue})}return s({toggleAll:(e={})=>{if(o.accordion)return;J(e)&&(e={expanded:e});const{expanded:a,skipDisabled:s}=e,l=[];C.forEach((e,t)=>{e.disabled&&s?e.$.exposed.getExpanded()&&l.push(e.name||t):(U(a)?a:!e.$.exposed.getExpanded())&&l.push(e.name||t)}),$(l)}}),(e,a)=>{const s=r;return d(),i(s,{class:u(`wd-collapse ${e.viewmore?"is-viewmore":""} ${e.customClass}`),style:v(e.customStyle)},{default:n(()=>[e.viewmore?(d(),i(s,{key:1},{default:n(()=>[c(s,{class:u(`wd-collapse__content ${e.modelValue?"":"is-retract"} `),style:v(`-webkit-line-clamp: ${g.value}; -webkit-box-orient: vertical`)},{default:n(()=>[p(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"]),c(s,{class:"wd-collapse__more",onClick:V},{default:n(()=>[e.useMoreSlot?(d(),i(s,{key:0,class:u(e.customMoreSlotClass)},{default:n(()=>[p(e.$slots,"more",{},void 0,!0)]),_:3},8,["class"])):(d(),x(b,{key:1},[k("span",{class:"wd-collapse__more-txt"},_(e.modelValue?w(f)("retract"):w(f)("expand")),1),c(s,{class:u("wd-collapse__arrow "+(e.modelValue?"is-retract":""))},{default:n(()=>[c(P,{name:"arrow-down"})]),_:1},8,["class"])],64))]),_:3})]),_:3})):p(e.$slots,"default",{key:0},void 0,!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0f19b337"]]),ae=Q(e({__name:"index",setup(e){const s=a(["dataFilter","dataDisplay","dataInput"]);function l(e){S({url:e})}return g(()=>{}),h(()=>{W()}),(e,a)=>{const t=r,o=C($("wd-cell"),j),u=C($("wd-cell-group"),E),p=C($("wd-collapse-item"),Z),m=C($("wd-collapse"),ee);return d(),i(t,{class:"h-full"},{default:n(()=>[c(t,{class:"bg-white px-4 py-6"},{default:n(()=>[c(t,{class:"text-center text-xl text-font-color-primary font-bold"},{default:n(()=>[f(" uniapp-template@1.0.0 ")]),_:1}),c(t,{class:"mt-4 text-font-color-primary"},{default:n(()=>[f(" Uniapp 开发模版，兼容 App、H5、小程序 ")]),_:1})]),_:1}),c(m,{modelValue:w(s),"onUpdate:modelValue":a[10]||(a[10]=e=>V(s)?s.value=e:null),class:"mx-3 mt-2 _el_bg-transparent"},{default:n(()=>[c(p,{title:"数据查询筛选",name:"dataFilter",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:n(()=>[c(u,{border:"",class:"border"},{default:n(()=>[c(o,{title:"搜素+标签页+分页","is-link":"",onClick:a[0]||(a[0]=e=>l("/pages/examples/data-filter/search-tab")),class:"is-link"}),c(o,{title:"标签页+简单条件筛选","is-link":"",onClick:a[1]||(a[1]=e=>l("/pages/examples/data-filter/tab-filter")),class:"is-link"}),c(o,{title:"排序+下拉条件","is-link":"",onClick:a[2]||(a[2]=e=>l("/pages/examples/data-filter/sort-drop")),class:"is-link"}),c(o,{title:"显式条件筛选","is-link":"",onClick:a[3]||(a[3]=e=>l("/pages/examples/data-filter/explicit-filter")),class:"is-link"})]),_:1})]),_:1}),k("div",{class:"h-16 bg-placeholder"}),c(p,{title:"数据展示",name:"dataDisplay",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:n(()=>[c(u,{border:"",class:"border"},{default:n(()=>[c(o,{title:"列表+普通分页","is-link":"",onClick:a[4]||(a[4]=e=>l("/pages/examples/data-display/data-list")),class:"is-link"}),c(o,{title:"步骤条","is-link":"",onClick:a[5]||(a[5]=e=>l("/pages/examples/data-display/step")),class:"is-link"}),c(o,{title:"颜色、标签","is-link":"",onClick:a[6]||(a[6]=e=>l("/pages/examples/data-display/color")),class:"is-link"})]),_:1})]),_:1}),k("div",{class:"h-16 bg-placeholder"}),c(p,{title:"数据录入",name:"dataInput",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:n(()=>[c(u,{border:"",class:"border"},{default:n(()=>[c(o,{title:"表单综合案例","is-link":"",onClick:a[7]||(a[7]=e=>l("/pages/examples/data-input/form-demo")),class:"is-link"}),c(o,{title:"扫码示例","is-link":"",onClick:a[8]||(a[8]=e=>l("/pages/examples/data-input/scan")),class:"is-link"}),c(o,{title:"NFC示例","is-link":"",onClick:a[9]||(a[9]=e=>l("/pages/examples/data-input/nfc")),class:"is-link"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),k("div",{class:"h-120"})]),_:1})}}}),[["__scopeId","data-v-3b20f665"]]);export{ae as default};
