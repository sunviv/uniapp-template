import{d as e,r as a,g as s,c as l,w as t,o,a as i,b as d,e as c,f as n,i as r,n as u,h as p,j as m,k as f,t as _,l as v,m as y,p as w,F as x,q as b,u as h,s as g,v as k,x as C,y as $,z as V,A as j}from"./index-E6UHNmn_.js";import{_ as S,a as E}from"./wd-cell-group.D2H8Ip46.js";import{m as I,a as B,b as F,c as A,d as M,u as N,e as D,o as H,i as G,f as T,g as U,h as q,p as z,j as O,w as P,k as J}from"./wd-icon.BxojWwtz.js";import{u as K,a as L}from"./useTranslate.DWSEzQzj.js";import{_ as Q}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{u as R}from"./useChildren.BRZhuMNJ.js";import{u as W}from"./index.DrGeapZW.js";import"./types.l_ZeAjVs.js";const X=Symbol("wd-collapse"),Y={...A,customMoreSlotClass:F(""),modelValue:{type:[String,Array,Boolean]},accordion:B(!1),viewmore:B(!1),useMoreSlot:B(!1),lineNum:I(2)},Z=Q(e({name:"wd-collapse-item",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...A,customBodyClass:F(""),customBodyStyle:F(""),title:F(""),disabled:B(!1),name:M(String),beforeExpend:Function},setup(e,{expose:y}){const w=a(`collapseId${N()}`),x=e,{parent:b,index:h}=K(X),g=a(""),k=a(!1),C=a(!1),{proxy:$}=s(),V=l(()=>0===h.value),j=l(()=>{const e={};return k.value&&(e.transition="height 0.3s ease-in-out"),C.value?g.value&&(e.height=D(g.value)):e.height="0px",H(e)}),S=l(()=>{const e=b&&(null==b?void 0:b.props.modelValue)||[],{name:a}=x;return G(e)&&e===a||T(e)&&e.indexOf(a)>=0});async function E(e=!0){try{e&&await new Promise((e,a)=>{const{name:s}=x;if(!C.value&&x.beforeExpend){const l=x.beforeExpend(s);l||a(),O(l)?l.then(()=>e()).catch(a):e()}else e()}),U(`#${w.value}`,!1,$).then(async e=>{const{height:a}=e;g.value=q(a)?Number(a):"",await z(),S.value?C.value=!0:C.value=!1,k.value||(k.value=!0)})}catch(a){}}function I(){C.value&&(g.value="")}async function B(){if(!x.disabled)try{await E();const{name:e}=x;b&&b.toggle(e,!C.value)}catch(e){}}return t(()=>S.value,e=>{E(e)}),o(()=>{E(S.value)}),y({getExpanded:function(){return C.value},updateExpand:E}),(e,a)=>{const s=m,l=r;return d(),i(l,{class:u(`wd-collapse-item ${e.disabled?"is-disabled":""} is-border ${e.customClass}`),style:v(e.customStyle)},{default:c(()=>[n(l,{class:u(`wd-collapse-item__header ${C.value?"is-expanded":""} ${V.value?"wd-collapse-item__header-first":""} ${e.$slots.title?"is-custom":""}`),onClick:B},{default:c(()=>[p(e.$slots,"title",{expanded:C.value,disabled:e.disabled,isFirst:V.value},()=>[n(s,{class:"wd-collapse-item__title"},{default:c(()=>[f(_(e.title),1)]),_:1}),n(P,{name:"arrow-down","custom-class":"wd-collapse-item__arrow "+(C.value?"is-retract":"")},null,8,["custom-class"])],!0)]),_:3},8,["class"]),n(l,{class:"wd-collapse-item__wrapper",style:v(j.value),onTransitionend:I},{default:c(()=>[n(l,{class:u(["wd-collapse-item__body",e.customBodyClass]),style:v(e.customBodyStyle),id:w.value},{default:c(()=>[p(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style","id"])]),_:3},8,["style"])]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-8e04a9fd"]]),ee=Q(e({name:"wd-collapse",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:Y,emits:["change","update:modelValue"],setup(e,{expose:s,emit:l}){const o=e,m=l,{translate:f}=L("collapse"),g=a(0),{linkChildren:k,children:C}=R(X);function $(e){m("update:modelValue",e),m("change",{value:e})}k({props:o,toggle:function(e,a){const{accordion:s,modelValue:l}=o;$(s?e===l?"":e:a?l.concat(e):l.filter(a=>a!==e))}}),t(()=>o.modelValue,e=>{const{viewmore:a,accordion:s}=o;s&&"string"!=typeof e||!s&&!a&&T(e)},{deep:!0}),t(()=>o.lineNum,e=>{},{deep:!0,immediate:!0}),y(()=>{const{lineNum:e,viewmore:a,modelValue:s}=o;g.value=a&&!s?e:0});function V(){m("update:modelValue",!o.modelValue),m("change",{value:!o.modelValue})}return s({toggleAll:(e={})=>{if(o.accordion)return;J(e)&&(e={expanded:e});const{expanded:a,skipDisabled:s}=e,l=[];C.forEach((e,t)=>{e.disabled&&s?e.$.exposed.getExpanded()&&l.push(e.name||t):(q(a)?a:!e.$.exposed.getExpanded())&&l.push(e.name||t)}),$(l)}}),(e,a)=>{const s=r;return d(),i(s,{class:u(`wd-collapse ${e.viewmore?"is-viewmore":""} ${e.customClass}`),style:v(e.customStyle)},{default:c(()=>[e.viewmore?(d(),i(s,{key:1},{default:c(()=>[n(s,{class:u(`wd-collapse__content ${e.modelValue?"":"is-retract"} `),style:v(`-webkit-line-clamp: ${g.value}; -webkit-box-orient: vertical`)},{default:c(()=>[p(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"]),n(s,{class:"wd-collapse__more",onClick:V},{default:c(()=>[e.useMoreSlot?(d(),i(s,{key:0,class:u(e.customMoreSlotClass)},{default:c(()=>[p(e.$slots,"more",{},void 0,!0)]),_:3},8,["class"])):(d(),w(x,{key:1},[b("span",{class:"wd-collapse__more-txt"},_(e.modelValue?h(f)("retract"):h(f)("expand")),1),n(s,{class:u("wd-collapse__arrow "+(e.modelValue?"is-retract":""))},{default:c(()=>[n(P,{name:"arrow-down"})]),_:1},8,["class"])],64))]),_:3})]),_:3})):p(e.$slots,"default",{key:0},void 0,!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-0f19b337"]]),ae=Q(e({__name:"index",setup(e){const s=a(["dataFilter","dataDisplay","dataInput"]);function l(e){j({url:e})}return g(()=>{}),k(()=>{W()}),(e,a)=>{const t=r,o=C($("wd-cell"),S),u=C($("wd-cell-group"),E),p=C($("wd-collapse-item"),Z),m=C($("wd-collapse"),ee);return d(),i(t,{class:"h-full"},{default:c(()=>[n(t,{class:"bg-white px-4 py-6"},{default:c(()=>[n(t,{class:"text-center text-xl text-font-color-primary font-bold"},{default:c(()=>[f(" uniapp-template@1.0.0 ")]),_:1}),n(t,{class:"mt-4 text-font-color-primary"},{default:c(()=>[f(" Uniapp 开发模版，兼容 App、H5、小程序 ")]),_:1})]),_:1}),n(m,{modelValue:h(s),"onUpdate:modelValue":a[7]||(a[7]=e=>V(s)?s.value=e:null),class:"mx-3 mt-2 _el_bg-transparent"},{default:c(()=>[n(p,{title:"数据查询筛选",name:"dataFilter",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:c(()=>[n(u,{border:"",class:"border"},{default:c(()=>[n(o,{title:"搜素+标签页+分页","is-link":"",onClick:a[0]||(a[0]=e=>l("/pages/examples/data-filter/search-tab")),class:"is-link"}),n(o,{title:"标签页+简单条件筛选","is-link":"",onClick:a[1]||(a[1]=e=>l("/pages/examples/data-filter/tab-filter")),class:"is-link"}),n(o,{title:"排序+下拉条件","is-link":"",onClick:a[2]||(a[2]=e=>l("/pages/examples/data-filter/sort-drop")),class:"is-link"}),n(o,{title:"显式条件筛选","is-link":"",onClick:a[3]||(a[3]=e=>l("/pages/examples/data-filter/explicit-filter")),class:"is-link"})]),_:1})]),_:1}),b("div",{class:"h-16 bg-placeholder"}),n(p,{title:"数据展示",name:"dataDisplay",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:c(()=>[n(u,{border:"",class:"border"},{default:c(()=>[n(o,{title:"列表+普通分页","is-link":"",onClick:a[4]||(a[4]=e=>l("/pages/examples/data-display/data-list")),class:"is-link"}),n(o,{title:"步骤条","is-link":"",onClick:a[5]||(a[5]=e=>l("/pages/examples/data-display/step")),class:"is-link"})]),_:1})]),_:1}),b("div",{class:"h-16 bg-placeholder"}),n(p,{title:"数据录入",name:"dataInput",class:"collapse-item","custom-body-class":"collapse-item-body"},{default:c(()=>[n(u,{border:"",class:"border"},{default:c(()=>[n(o,{title:"表单综合案例","is-link":"",onClick:a[6]||(a[6]=e=>l("/pages/examples/data-input/form-demo")),class:"is-link"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),b("div",{class:"h-120"})]),_:1})}}}),[["__scopeId","data-v-816d226a"]]);export{ae as default};
