import{g as e,r as t,d as o,B as a,w as l,o as s,m as n,C as r,a as u,b as p,e as i,f as c,i as m,n as d,D as v,k as f,t as _,p as w,F as h,E as y,j as x,u as $,h as b,l as g,G as k,H as C,x as j,y as S,z as V,I as A}from"./index-BwhScCa-.js";import{_ as T}from"./wd-navbar.B6SDc-OS.js";import{l as Q,g as q,b as I,a as X,m as Y,c as z,w as D,f as F}from"./wd-icon.yc3zWEZQ.js";import{w as O}from"./wd-overlay.DqUbOZmU.js";import{q as P,r as B,p as E,c as G}from"./useQueue.CBgwLivo.js";import{_ as H}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as M}from"./wd-search.DVgcPiiU.js";import{_ as U,a as L}from"./wd-tabs.Co53Zgfe.js";import{D as J}from"./data-list.BNhsKjkm.js";import"./useTranslate.B4ZWBcd4.js";import"./useChildren.kt6jX1QU.js";import"./useTouch.BKliogYy.js";import"./wd-text.BpAw7Ml2.js";import"./dayjs.COcmCL1h.js";import"./wd-button.PkOTofY2.js";import"./z-paging.D3ONwYnM.js";import"./wd-message-box.BQqxRKve.js";import"./wd-popup.B5X6nS8K.js";import"./wd-input.CEXo9Ovy.js";import"./types.B7qIINKX.js";const K=H(o({name:"wd-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...z,customArrow:I(""),customPop:I(""),visibleArrow:X(!0),content:[String,Object],placement:I("bottom"),offset:Y(0),useContentSlot:X(!1),disabled:X(!1),showClose:X(!1),modelValue:X(!1),mode:I("normal")},emits:["update:modelValue","menuclick","change","open","close"],setup(o,{expose:C,emit:j}){const S=o,V=j,A=a(P,null),T="popover",{proxy:I}=e(),X=function(o=!0){const{proxy:a}=e(),l=t(""),s=t(""),n=t(""),r=t(""),u=t(0),p=t(0),i=t(0),c=t(0),m=t(0),d=t(0),v=t(0);return{popStyle:l,arrowStyle:s,showStyle:n,arrowClass:r,init:function(e,t,o){if(t){const t=[`wd-${o}__arrow`,"bottom"===e||"bottom-start"===e||"bottom-end"===e?`wd-${o}__arrow-up`:"","left"===e||"left-start"===e||"left-end"===e?`wd-${o}__arrow-right`:"","right"===e||"right-start"===e||"right-end"===e?`wd-${o}__arrow-left`:"","top"===e||"top-start"===e||"top-end"===e?`wd-${o}__arrow-down`:""];r.value=t.join(" ")}q("#target",!1,a).then(e=>{e&&(i.value=e.left,c.value=e.bottom,m.value=e.width,d.value=e.height,v.value=e.top)}),q("#pos",!1,a).then(e=>{e&&(u.value=e.width,p.value=e.height)})},control:function(e,t){const a=o?9:0,n=m.value/2,r=a+d.value+5,i=m.value+a+5,c=d.value/2;let v=0,f=0;Array.isArray(t)?(v=(n-17>0?0:n-25)+t[0],f=(c-17>0?0:c-25)+(t[1]?t[1]:t[0])):Q(t)?(v=(n-17>0?0:n-25)+t.x,f=(c-17>0?0:c-25)+t.y):(v=(n-17>0?0:n-25)+t,f=(c-17>0?0:c-25)+t);const _=new Map([["top",[`left: ${n}px; bottom: ${r}px; transform: translateX(-50%);`,"left: 50%;"]],["top-start",[`left: ${v}px; bottom: ${r}px;`,`left: ${(u.value>=m.value?m.value/2:u.value-25)-v}px;`]],["top-end",[`right: ${v}px; bottom: ${r}px;`,`right: ${(u.value>=m.value?m.value/2:u.value-25)-v}px; transform: translateX(50%);`]],["bottom",[`left: ${n}px; top: ${r}px; transform: translateX(-50%);`,"left: 50%;"]],["bottom-start",[`left: ${v}px; top: ${r}px;`,`left: ${(u.value>=m.value?m.value/2:u.value-25)-v}px;`]],["bottom-end",[`right: ${v}px; top: ${r}px;`,`right: ${(u.value>=m.value?m.value/2:u.value-25)-v}px; transform: translateX(50%);`]],["left",[`right: ${i}px; top: ${c}px; transform: translateY(-50%);`,"top: 50%"]],["left-start",[`right: ${i}px; top: ${f}px;`,`top: ${(p.value>=d.value?d.value/2:p.value-20)-f}px;`]],["left-end",[`right: ${i}px; bottom: ${f}px;`,`bottom: ${(p.value>=d.value?d.value/2:p.value-20)-f}px; transform: translateY(50%);`]],["right",[`left: ${i}px; top: ${c}px; transform: translateY(-50%);`,"top: 50%"]],["right-start",[`left: ${i}px; top: ${f}px;`,`top: ${(p.value>=d.value?d.value/2:p.value-20)-f}px;`]],["right-end",[`left: ${i}px; bottom: ${f}px;`,`bottom: ${(p.value>=d.value?d.value/2:p.value-20)-f}px; transform: translateY(50%);`]]]);l.value=_.get(e)[0],s.value=_.get(e)[1]},noop:function(){}}}(S.visibleArrow),Y=t(!1);function z(e){M(!1),V("menuclick",{item:S.content[e],index:e})}function H(){S.disabled||M(!Y.value)}function M(e){Y.value=e,V("update:modelValue",e)}return l(()=>S.content,e=>{const{mode:t}=S;"normal"===t&&"string"!=typeof e||"menu"===t&&F(e)}),l(()=>S.placement,()=>{X.init(S.placement,S.visibleArrow,T)}),l(()=>S.modelValue,e=>{Y.value=e}),l(()=>Y.value,e=>{e&&(X.control(S.placement,S.offset),A&&A.closeOther?A.closeOther(I):G(I)),X.showStyle.value=e?"display: inline-block;":"display: none;",V("change",{show:e}),V(""+(e?"open":"close"))}),s(()=>{X.init(S.placement,S.visibleArrow,T)}),n(()=>{A&&A.pushToQueue?A.pushToQueue(I):E(I),X.showStyle.value=Y.value?"opacity: 1;":"opacity: 0;"}),r(()=>{A&&A.removeFromQueue?A.removeFromQueue(I):B(I)}),C({open:function(){M(!0)},close:function(){M(!1)}}),(e,t)=>{const o=m,a=x;return p(),u(o,{class:d(`wd-popover ${e.customClass}`),style:g(e.customStyle),id:"popover",onClick:k($(X).noop,["stop"])},{default:i(()=>[c(o,{class:"wd-popover__pos wd-popover__hidden",id:"pos"},{default:i(()=>[c(o,{class:d(`wd-popover__container ${e.customPop}`)},{default:i(()=>[e.useContentSlot||"normal"!==e.mode?v("",!0):(p(),u(o,{key:0,class:"wd-popover__inner"},{default:i(()=>[f(_(e.content),1)]),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?v("",!0):(p(),u(o,{key:1,class:"wd-popover__menu"},{default:i(()=>[(p(!0),w(h,null,y(e.content,(e,t)=>(p(),u(o,{key:t,class:"wd-popover__menu-inner",onClick:e=>z(t)},{default:i(()=>[e.iconClass?(p(),u(D,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):v("",!0),c(a,null,{default:i(()=>[f(_(e.content),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1},8,["class"])]),_:1}),c(O,{"custom-class":"wd-popover__pos","custom-style":$(X).popStyle.value,show:Y.value,name:"fade",duration:200},{default:i(()=>[c(o,{class:d(`wd-popover__container ${e.customPop}`)},{default:i(()=>[S.visibleArrow?(p(),u(o,{key:0,class:d(`wd-popover__arrow ${$(X).arrowClass.value} ${e.customArrow}`),style:g($(X).arrowStyle.value)},null,8,["class","style"])):v("",!0),e.useContentSlot||"normal"!==e.mode?v("",!0):(p(),u(o,{key:1,class:"wd-popover__inner"},{default:i(()=>[f(_(e.content),1)]),_:1})),e.useContentSlot||"menu"!==e.mode?b(e.$slots,"content",{key:3},void 0,!0):(p(),u(o,{key:2,class:"wd-popover__menu"},{default:i(()=>[(p(!0),w(h,null,y(e.content,(e,t)=>(p(),u(o,{key:t,class:"wd-popover__menu-inner",onClick:e=>z(t),style:g(0===t?"border-top: none":"")},{default:i(()=>["object"==typeof e&&e.iconClass?(p(),u(D,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):v("",!0),c(o,{style:{display:"inline-block"}},{default:i(()=>[f(_("object"==typeof e&&e.content?e.content:""),1)]),_:2},1024)]),_:2},1032,["onClick","style"]))),128))]),_:1}))]),_:3},8,["class"]),e.showClose?(p(),u(D,{key:0,name:"close","custom-class":"wd-popover__close-icon",onClick:H})):v("",!0)]),_:3},8,["custom-style","show"]),c(o,{onClick:H,class:"wd-popover__target",id:"target"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["class","style","onClick"])}}}),[["__scopeId","data-v-4f291d86"]]),N=H(o({__name:"search-tab",setup(e){const o=C({searchType:"all",searchValue:"",category:"分类1"}),a=t("全部"),l=t(""),s=t([{value:"all",content:"全部"},{value:"order",content:"订单号"},{value:"refund",content:"退款单号"}]);function n(){o.searchValue=l.value}function r({item:e}){a.value=e.content,o.searchType=e.value}const d=t([{name:"分类1",title:"分类1"},{name:"分类2",title:"分类2"},{name:"分类3",title:"分类3"},{name:"分类4",title:"分类4"},{name:"分类5",title:"分类5"},{name:"分类6",title:"分类6"},{name:"分类7",title:"分类7"},{name:"分类8",title:"分类8"},{name:"分类9",title:"分类9"},{name:"分类10",title:"分类10"},{name:"分类11",title:"分类11"},{name:"分类12",title:"分类12"},{name:"分类13",title:"分类13"},{name:"分类14",title:"分类14"},{name:"分类15",title:"分类15"}]),b=t("分类1");function g({name:e}){o.category=e}function k(){A()}return(e,t)=>{const C=j(S("wd-navbar"),T),A=x,Q=j(S("wd-icon"),D),q=m,I=j(S("wd-popover"),K),X=j(S("wd-search"),M),Y=j(S("wd-tab"),U),z=j(S("wd-tabs"),L);return p(),u(q,{class:"h-full flex flex-col overflow-hidden"},{default:i(()=>[c(C,{"left-arrow":"","safe-area-inset-top":"",title:"搜索+标签",onClickLeft:k,class:"left-arrow safe-area-inset-top"}),c(X,{modelValue:$(l),"onUpdate:modelValue":t[0]||(t[0]=e=>V(l)?l.value=e:null),"hide-cancel":"","placeholder-left":"",class:"flex-shrink-0 px-2 hide-cancel placeholder-left",onSearch:n},{prefix:i(()=>[c(I,{mode:"menu",content:$(s),onMenuclick:r},{default:i(()=>[c(q,{class:"search-type"},{default:i(()=>[c(A,null,{default:i(()=>[f(_($(a)),1)]),_:1}),c(Q,{"custom-class":"icon-arrow",name:"fill-arrow-down"})]),_:1})]),_:1},8,["content"])]),_:1},8,["modelValue"]),c(z,{modelValue:$(b),"onUpdate:modelValue":t[1]||(t[1]=e=>V(b)?b.value=e:null),slidable:"always",class:"min-h-50 flex-1",onChange:g},{default:i(()=>[(p(!0),w(h,null,y($(d),e=>(p(),u(Y,{key:e,title:e.title,name:e.name,"auto-line-width":"",class:"auto-line-width"},{default:i(()=>[c(q,{class:"h-_lfl_calc_lbl_100vh-148px_lbr__lfr_"},{default:i(()=>[e.name===$(b)?(p(),u(J,{key:0,"query-params":$(o)},null,8,["query-params"])):v("",!0)]),_:2},1024)]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])]),_:1})}}}),[["__scopeId","data-v-c8c2a477"]]);export{N as default};
