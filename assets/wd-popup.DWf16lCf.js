import{d as e,c as o,r as t,m as s,B as a,a as l,b as n,i as r,e as i,z as d,f as c,h as u}from"./index-DYrsGRvn.js";import{c as p,a as m,b as f,m as v,w}from"./wd-icon.Dy31_TFZ.js";import{w as y}from"./wd-overlay.DGTlR9sn.js";import{w as h}from"./wd-transition.DxLGhKZx.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=b(e({name:"wd-popup",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...p,transition:String,closable:m(!1),position:f("center"),closeOnClickModal:m(!0),duration:{type:[Number,Boolean],default:300},modal:m(!0),zIndex:v(10),hideWhenClose:m(!0),modalStyle:f(""),safeAreaInsetBottom:m(!1),modelValue:m(!1),lazyRender:m(!0),lockScroll:m(!0)},emits:["update:modelValue","before-enter","enter","before-leave","leave","after-leave","after-enter","click-modal","close"],setup(e,{emit:p}){const m=e,f=p,v=o(()=>m.transition?m.transition:"center"===m.position?["zoom-in","fade"]:"left"===m.position?"slide-left":"right"===m.position?"slide-right":"bottom"===m.position?"slide-up":"top"===m.position?"slide-down":"slide-up"),b=t(0),k=o(()=>`z-index:${m.zIndex}; padding-bottom: ${b.value}px;${m.customStyle}`),z=o(()=>`wd-popup wd-popup--${m.position} ${m.transition||"center"!==m.position?"":"is-deep"} ${m.customClass||""}`);function x(){f("click-modal"),m.closeOnClickModal&&_()}function _(){f("close"),f("update:modelValue",!1)}function C(){}return s(()=>{if(m.safeAreaInsetBottom){const{safeArea:e,screenHeight:o,safeAreaInsets:t}=a();b.value=e&&t?t.bottom:0}}),(e,o)=>{const t=r;return n(),l(t,{class:"wd-popup-wrapper"},{default:i(()=>[e.modal?(n(),l(y,{key:0,show:e.modelValue,"z-index":e.zIndex,"lock-scroll":e.lockScroll,duration:e.duration,"custom-style":e.modalStyle,onClick:x,onTouchmove:C},null,8,["show","z-index","lock-scroll","duration","custom-style"])):d("",!0),c(h,{"lazy-render":e.lazyRender,"custom-class":z.value,"custom-style":k.value,duration:e.duration,show:e.modelValue,name:v.value,destroy:e.hideWhenClose,onBeforeEnter:o[0]||(o[0]=e=>f("before-enter")),onEnter:o[1]||(o[1]=e=>f("enter")),onAfterEnter:o[2]||(o[2]=e=>f("after-enter")),onBeforeLeave:o[3]||(o[3]=e=>f("before-leave")),onLeave:o[4]||(o[4]=e=>f("leave")),onAfterLeave:o[5]||(o[5]=e=>f("after-leave"))},{default:i(()=>[u(e.$slots,"default",{},void 0,!0),e.closable?(n(),l(w,{key:0,"custom-class":"wd-popup__close",name:"add",onClick:_})):d("",!0)]),_:3},8,["lazy-render","custom-class","custom-style","duration","show","name","destroy"])]),_:3})}}}),[["__scopeId","data-v-974776cf"]]);export{k as w};
