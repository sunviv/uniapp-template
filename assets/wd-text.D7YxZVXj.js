import{d as e,r as t,w as s,c as o,a as r,b as a,j as i,l,n,e as c,h as u,D as f,f as d,k as p,t as m}from"./index-Cdtu3env.js";import{c as x,b as $,a as h,q as y,o as b,h as g}from"./wd-icon.B0scdPb8.js";import{d as v}from"./dayjs.jcsyqjhE.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=_(e({name:"wd-text",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...x,type:$("default"),text:y(""),size:$(""),mode:$("text"),decoration:$("none"),call:h(!1),bold:h(!1),format:h(!1),color:$(""),prefix:String,suffix:String,lines:Number,lineHeight:$(""),customStyle:$(""),customClass:$("")},emits:["click"],setup(e,{emit:x}){const $=e,h=x,y=t("");s(()=>({type:$.type,text:$.text,mode:$.mode,color:$.color,bold:$.bold,lines:$.lines,format:$.format}),({type:e})=>{!function(){const{type:e,color:t,bold:s,lines:o}=$,r=[];t||r.push(`is-${e}`);g(o)&&r.push(`is-lines-${o}`);s&&r.push("is-bold"),y.value=r.join(" ")}()},{deep:!0,immediate:!0});const _=o(()=>`wd-text ${$.customClass} ${y.value}`),j=o(()=>{const e={};return $.color&&(e.color=$.color),$.size&&(e["font-size"]=`${$.size}`),$.lineHeight&&(e["line-height"]=`${$.lineHeight}`),$.decoration&&(e["text-decoration"]=`${$.decoration}`),`${b(e)}${$.customStyle}`});const k=o(()=>{const{text:e,mode:t,format:s}=$;return"date"===t?v(Number(e)).format("YYYY-MM-DD"):"price"===t?function(e){const t=(e=Number(e).toFixed(2)).split(".");let s=t[0];const o=t.length>1?"."+t[1]:"",r=/(\d+)(\d{3})/;for(;r.test(s);)s=s.replace(r,"$1,$2");return s+o}(e):function(e,t,s){if(t){if("phone"===s)return e.replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2");if("name"===s)return e.replace(/^(.).*(.)$/,"$1**$2");throw new Error("mode must be one of phone or name for encryption")}return e}(`${e}`,s,t)});function w(e){h("click",e)}return(e,t)=>{const s=i;return a(),r(s,{onClick:w,class:n(_.value),style:l(j.value)},{default:c(()=>[e.$slots.prefix||e.prefix?u(e.$slots,"prefix",{key:0},()=>[p(m(e.prefix),1)],!0):f("",!0),d(s,null,{default:c(()=>[p(m(k.value),1)]),_:1}),e.$slots.suffix||e.suffix?u(e.$slots,"suffix",{key:1},()=>[p(m(e.suffix),1)],!0):f("",!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-3ee43bbe"]]);export{j as _};
