import{c as e,d as a,r as t,m as l,w as s,a as n,z as r,b as u,i as v,l as o,n as i,e as d,h as c}from"./index-D9FNU4Ji.js";import{u as $}from"./wd-button.D-Dwf_Zs.js";import{a as w,c as f,d as m,b as y,P as b,q as p,p as C,j as h,_ as g}from"./wd-icon.Db98EhZ2.js";const A=Symbol("wd-cell-group"),S={...f,title:String,value:String,useSlot:w(!1),border:w(!1)};function T(){const{parent:a,index:t}=$(A);return{border:e(()=>a&&a.props.border&&t.value)}}const j=Symbol("wd-form"),k={...f,model:m(Object),rules:{type:Object,default:()=>({})},resetOnChange:w(!0),errorType:{type:String,default:"message"}},O=g(a({name:"wd-transition",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...f,show:w(!1),duration:{type:[Object,Number,Boolean],default:300},lazyRender:w(!1),name:[String,Array],destroy:w(!0),enterClass:y(""),enterActiveClass:y(""),enterToClass:y(""),leaveClass:y(""),leaveActiveClass:y(""),leaveToClass:y("")},emits:["click","before-enter","enter","before-leave","leave","after-leave","after-enter"],setup(a,{emit:$}){const w=e=>{let a=`${f.enterClass} ${f.enterActiveClass}`,t=`${f.enterToClass} ${f.enterActiveClass}`,l=`${f.leaveClass} ${f.leaveActiveClass}`,s=`${f.leaveToClass} ${f.leaveActiveClass}`;if(Array.isArray(e))for(let n=0;n<e.length;n++)a=`wd-${e[n]}-enter wd-${e[n]}-enter-active ${a}`,t=`wd-${e[n]}-enter-to wd-${e[n]}-enter-active ${t}`,l=`wd-${e[n]}-leave wd-${e[n]}-leave-active ${l}`,s=`wd-${e[n]}-leave-to wd-${e[n]}-leave-active ${s}`;else e&&(a=`wd-${e}-enter wd-${e}-enter-active ${a}`,t=`wd-${e}-enter-to wd-${e}-enter-active ${t}`,l=`wd-${e}-leave wd-${e}-leave-active ${l}`,s=`wd-${e}-leave-to wd-${e}-leave-active ${s}`);return{enter:a,"enter-to":t,leave:l,"leave-to":s}},f=a,m=$,y=t(!1),g=t(!1),A=t(""),S=t(!1),T=t(300),j=t(""),k=t(null),O=t(null),_=t(null),x=e(()=>`-webkit-transition-duration:${T.value}ms;transition-duration:${T.value}ms;${g.value||!f.destroy?"":"display: none;"}${f.customStyle}`),z=e(()=>`wd-transition ${f.customClass}  ${j.value}`);function I(){m("click")}function R(){k.value=new b(async e=>{try{const a=w(f.name),t=p(f.duration)?f.duration.enter:f.duration;A.value="enter",m("before-enter"),O.value=C(),await O.value,m("enter"),j.value=a.enter,T.value=t,O.value=C(),await O.value,y.value=!0,g.value=!0,O.value=C(),await O.value,O.value=null,S.value=!1,j.value=a["enter-to"],e()}catch(a){}})}function q(){S.value||(S.value=!0,"leave"===A.value?m("after-leave"):"enter"===A.value&&m("after-enter"),!f.show&&g.value&&(g.value=!1))}return l(()=>{f.show&&R()}),s(()=>f.show,e=>{e?(h(k.value)&&k.value.abort(),h(O.value)&&O.value.abort(),h(_.value)&&_.value.abort(),k.value=null,O.value=null,_.value=null,R()):async function(){if(!k.value)return S.value=!1,q();try{if(await k.value,!g.value)return;const e=w(f.name),a=p(f.duration)?f.duration.leave:f.duration;A.value="leave",m("before-leave"),T.value=a,_.value=C(),await _.value,m("leave"),j.value=e.leave,_.value=C(),await _.value,S.value=!1,j.value=e["leave-to"],_.value=function(e){return new b(a=>{const t=setTimeout(()=>{clearTimeout(t),a()},e)})}(T.value),await _.value,_.value=null,q(),k.value=null}catch(e){}}()},{deep:!0}),(e,a)=>{const t=v;return!e.lazyRender||y.value?(u(),n(t,{key:0,class:i(z.value),style:o(x.value),onTransitionend:q,onClick:I},{default:d(()=>[c(e.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])):r("",!0)}}}),[["__scopeId","data-v-1fc69211"]]);export{A as C,j as F,S as c,k as f,T as u,O as w};
