import{v as e,a7 as a,ab as l,a as t,b as r,aa as s,i as o,d as n,r as i,a6 as d,ac as u,e as c,x as p,y as f,f as m,z as _,u as h,ad as v,I as g}from"./index-ClfrQCS6.js";import{_ as w}from"./wd-navbar.CYwXhUUc.js";import{_ as b}from"./wd-input.9d8Eka7s.js";import{_ as x,a as j}from"./wd-cell-group.B9ezIIT2.js";import{_ as A}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./wd-icon.CtsBa32l.js";import"./types.DBgjl7Gr.js";import"./useTranslate.BMaGiY8t.js";import"./useChildren.ps8OyeH6.js";const C="broadcast:scan",V={__name:"index",setup(n){let i,d,u,c=!1;function p(){i=plus.android.runtimeMainActivity();const e=plus.android.importClass("android.content.IntentFilter");u=new e,u.addAction("android.intent.ACTION_DECODE_DATA"),d=plus.android.implements("io.dcloud.feature.internal.reflect.BroadcastReceiver",{onReceive:(e,a)=>{plus.android.importClass(a);!function(e){if(c)return;c=!0,setTimeout(()=>{c=!1},150),s(C,e)}(a.getStringExtra("barcode_string"))}})}const f=()=>{i.unregisterReceiver(d)};return e(()=>{p(),i.registerReceiver(d,u)}),a(()=>{f()}),l(()=>{f()}),(e,a)=>{const l=o;return r(),t(l)}}},k=A(n({__name:"scan",setup(s){const n=i(""),A=i(""),k=i("");function y(){v({success(e){k.value=e.result}})}function D(){g()}return e(()=>{d(C,e=>{n.value=e})}),l(()=>{u(C)}),a(()=>{u(C)}),(e,a)=>{const l=p(f("wd-navbar"),w),s=p(f("wd-input"),b),i=p(f("wd-cell"),x),d=p(f("wd-cell-group"),j),u=V,v=o;return r(),t(v,{class:"h-full flex flex-col overflow-hidden"},{default:c(()=>[m(l,{"left-arrow":"","safe-area-inset-top":"",title:"显式条件筛选",onClickLeft:D,class:"left-arrow safe-area-inset-top"}),m(d,{border:"",class:"border"},{default:c(()=>[m(i,{"title-width":"240rpx",title:"PDA 扫码"},{default:c(()=>[m(s,{modelValue:h(n),"onUpdate:modelValue":a[0]||(a[0]=e=>_(n)?n.value=e:null),placeholder:"请扫描箱码","placeholder-class":"text-font-color-placeholder","no-border":"",readonly:"","align-right":"",class:"no-border readonly align-right"},null,8,["modelValue"])]),_:1}),m(i,{"title-width":"240rpx",title:"PDA 扫码(可输入)"},{default:c(()=>[m(s,{modelValue:h(A),"onUpdate:modelValue":a[1]||(a[1]=e=>_(A)?A.value=e:null),placeholder:"请扫描或输入盒码","placeholder-class":"text-font-color-placeholder","no-border":"","align-right":"",class:"no-border align-right"},null,8,["modelValue"])]),_:1}),m(i,{"title-width":"240rpx",title:"摄像头扫码","is-link":"",value:h(k),onClick:y,class:"is-link"},null,8,["value"])]),_:1}),m(u)]),_:1})}}}),[["__scopeId","data-v-052ba18c"]]);export{k as default};
