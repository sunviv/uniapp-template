import{g as e,r as t,d as o,v as a,w as l,o as s,m as n,y as r,a as u,b as p,e as i,f as c,i as m,n as d,z as f,k as v,t as _,p as w,F as h,J as y,j as x,u as $,h as b,l as g,A as k,x as C,E as j,G as S,H as V,K as A}from"./index-D9FNU4Ji.js";import{_ as q}from"./wd-navbar.Ch0Cg5Rl.js";import{q as T,g as Q,b as X,a as Y,m as F,c as I,w as O,f as P,_ as z}from"./wd-icon.Db98EhZ2.js";import{w as G}from"./wd-transition.B5oflwmn.js";import{q as H,p as M,r as U,c as D}from"./clickoutside.CP6DcKA8.js";import{_ as E}from"./wd-search.BVF9rt7X.js";import{_ as J,a as K}from"./wd-tabs.QIclbqnv.js";import{D as L}from"./data-list.BJPF66tp.js";import"./wd-button.D-Dwf_Zs.js";import"./useChildren.D6sW72HW.js";import"./useTouch.BgOAv8ol.js";import"./z-paging.OLqzXVmo.js";import"./wd-message-box.DeVxJMhH.js";import"./wd-popup.C52Y9Mj2.js";import"./wd-input.BXPcTrwn.js";const B=z(o({name:"wd-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...I,customArrow:X(""),customPop:X(""),visibleArrow:Y(!0),content:[String,Object],placement:X("bottom"),offset:F(0),useContentSlot:Y(!1),disabled:Y(!1),showClose:Y(!1),modelValue:Y(!1),mode:X("normal")},emits:["update:modelValue","menuclick","change","open","close"],setup(o,{expose:C,emit:j}){const S=o,V=j,A=a(H,null),q="popover",{proxy:X}=e(),Y=function(o=!0){const{proxy:a}=e(),l=t(""),s=t(""),n=t(""),r=t(""),u=t(0),p=t(0),i=t(0),c=t(0),m=t(0),d=t(0),f=t(0);return{popStyle:l,arrowStyle:s,showStyle:n,arrowClass:r,init:function(e,t,o){if(t){const t=[`wd-${o}__arrow`,"bottom"===e||"bottom-start"===e||"bottom-end"===e?`wd-${o}__arrow-up`:"","left"===e||"left-start"===e||"left-end"===e?`wd-${o}__arrow-right`:"","right"===e||"right-start"===e||"right-end"===e?`wd-${o}__arrow-left`:"","top"===e||"top-start"===e||"top-end"===e?`wd-${o}__arrow-down`:""];r.value=t.join(" ")}Q("#target",!1,a).then(e=>{e&&(i.value=e.left,c.value=e.bottom,m.value=e.width,d.value=e.height,f.value=e.top)}),Q("#pos",!1,a).then(e=>{e&&(u.value=e.width,p.value=e.height)})},control:function(e,t){const a=o?9:0,n=m.value/2,r=a+d.value+5,i=m.value+a+5,c=d.value/2;let f=0,v=0;Array.isArray(t)?(f=(n-17>0?0:n-25)+t[0],v=(c-17>0?0:c-25)+(t[1]?t[1]:t[0])):T(t)?(f=(n-17>0?0:n-25)+t.x,v=(c-17>0?0:c-25)+t.y):(f=(n-17>0?0:n-25)+t,v=(c-17>0?0:c-25)+t);const _=new Map([["top",[`left: ${n}px; bottom: ${r}px; transform: translateX(-50%);`,"left: 50%;"]],["top-start",[`left: ${f}px; bottom: ${r}px;`,`left: ${(u.value>=m.value?m.value/2:u.value-25)-f}px;`]],["top-end",[`right: ${f}px; bottom: ${r}px;`,`right: ${(u.value>=m.value?m.value/2:u.value-25)-f}px; transform: translateX(50%);`]],["bottom",[`left: ${n}px; top: ${r}px; transform: translateX(-50%);`,"left: 50%;"]],["bottom-start",[`left: ${f}px; top: ${r}px;`,`left: ${(u.value>=m.value?m.value/2:u.value-25)-f}px;`]],["bottom-end",[`right: ${f}px; top: ${r}px;`,`right: ${(u.value>=m.value?m.value/2:u.value-25)-f}px; transform: translateX(50%);`]],["left",[`right: ${i}px; top: ${c}px; transform: translateY(-50%);`,"top: 50%"]],["left-start",[`right: ${i}px; top: ${v}px;`,`top: ${(p.value>=d.value?d.value/2:p.value-20)-v}px;`]],["left-end",[`right: ${i}px; bottom: ${v}px;`,`bottom: ${(p.value>=d.value?d.value/2:p.value-20)-v}px; transform: translateY(50%);`]],["right",[`left: ${i}px; top: ${c}px; transform: translateY(-50%);`,"top: 50%"]],["right-start",[`left: ${i}px; top: ${v}px;`,`top: ${(p.value>=d.value?d.value/2:p.value-20)-v}px;`]],["right-end",[`left: ${i}px; bottom: ${v}px;`,`bottom: ${(p.value>=d.value?d.value/2:p.value-20)-v}px; transform: translateY(50%);`]]]);l.value=_.get(e)[0],s.value=_.get(e)[1]},noop:function(){}}}(S.visibleArrow),F=t(!1);function I(e){E(!1),V("menuclick",{item:S.content[e],index:e})}function z(){S.disabled||E(!F.value)}function E(e){F.value=e,V("update:modelValue",e)}return l(()=>S.content,e=>{const{mode:t}=S;"normal"===t&&"string"!=typeof e||"menu"===t&&P(e)}),l(()=>S.placement,()=>{Y.init(S.placement,S.visibleArrow,q)}),l(()=>S.modelValue,e=>{F.value=e}),l(()=>F.value,e=>{e&&(Y.control(S.placement,S.offset),A&&A.closeOther?A.closeOther(X):D(X)),Y.showStyle.value=e?"display: inline-block;":"display: none;",V("change",{show:e}),V(""+(e?"open":"close"))}),s(()=>{Y.init(S.placement,S.visibleArrow,q)}),n(()=>{A&&A.pushToQueue?A.pushToQueue(X):M(X),Y.showStyle.value=F.value?"opacity: 1;":"opacity: 0;"}),r(()=>{A&&A.removeFromQueue?A.removeFromQueue(X):U(X)}),C({open:function(){E(!0)},close:function(){E(!1)}}),(e,t)=>{const o=m,a=x;return p(),u(o,{class:d(`wd-popover ${e.customClass}`),style:g(e.customStyle),id:"popover",onClick:k($(Y).noop,["stop"])},{default:i(()=>[c(o,{class:"wd-popover__pos wd-popover__hidden",id:"pos"},{default:i(()=>[c(o,{class:d(`wd-popover__container ${e.customPop}`)},{default:i(()=>[e.useContentSlot||"normal"!==e.mode?f("",!0):(p(),u(o,{key:0,class:"wd-popover__inner"},{default:i(()=>[v(_(e.content),1)]),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?f("",!0):(p(),u(o,{key:1,class:"wd-popover__menu"},{default:i(()=>[(p(!0),w(h,null,y(e.content,(e,t)=>(p(),u(o,{key:t,class:"wd-popover__menu-inner",onClick:e=>I(t)},{default:i(()=>[e.iconClass?(p(),u(O,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):f("",!0),c(a,null,{default:i(()=>[v(_(e.content),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1},8,["class"])]),_:1}),c(G,{"custom-class":"wd-popover__pos","custom-style":$(Y).popStyle.value,show:F.value,name:"fade",duration:200},{default:i(()=>[c(o,{class:d(`wd-popover__container ${e.customPop}`)},{default:i(()=>[S.visibleArrow?(p(),u(o,{key:0,class:d(`wd-popover__arrow ${$(Y).arrowClass.value} ${e.customArrow}`),style:g($(Y).arrowStyle.value)},null,8,["class","style"])):f("",!0),e.useContentSlot||"normal"!==e.mode?f("",!0):(p(),u(o,{key:1,class:"wd-popover__inner"},{default:i(()=>[v(_(e.content),1)]),_:1})),e.useContentSlot||"menu"!==e.mode?b(e.$slots,"content",{key:3},void 0,!0):(p(),u(o,{key:2,class:"wd-popover__menu"},{default:i(()=>[(p(!0),w(h,null,y(e.content,(e,t)=>(p(),u(o,{key:t,class:"wd-popover__menu-inner",onClick:e=>I(t),style:g(0===t?"border-top: none":"")},{default:i(()=>["object"==typeof e&&e.iconClass?(p(),u(O,{key:0,name:e.iconClass,"custom-class":"wd-popover__icon"},null,8,["name"])):f("",!0),c(o,{style:{display:"inline-block"}},{default:i(()=>[v(_("object"==typeof e&&e.content?e.content:""),1)]),_:2},1024)]),_:2},1032,["onClick","style"]))),128))]),_:1}))]),_:3},8,["class"]),e.showClose?(p(),u(O,{key:0,name:"close","custom-class":"wd-popover__close-icon",onClick:z})):f("",!0)]),_:3},8,["custom-style","show"]),c(o,{onClick:z,class:"wd-popover__target",id:"target"},{default:i(()=>[b(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3},8,["class","style","onClick"])}}}),[["__scopeId","data-v-4f291d86"]]),N=z(o({__name:"search-tab",setup(e){const o=C({searchType:"all",searchValue:"",category:"分类1"}),a=t("全部"),l=t(""),s=t([{value:"all",content:"全部"},{value:"order",content:"订单号"},{value:"refund",content:"退款单号"}]);function n(){o.searchValue=l.value}function r({item:e}){a.value=e.content,o.searchType=e.value}const d=t([{name:"分类1",title:"分类1"},{name:"分类2",title:"分类2"},{name:"分类3",title:"分类3"},{name:"分类4",title:"分类4"},{name:"分类5",title:"分类5"},{name:"分类6",title:"分类6"},{name:"分类7",title:"分类7"},{name:"分类8",title:"分类8"},{name:"分类9",title:"分类9"},{name:"分类10",title:"分类10"},{name:"分类11",title:"分类11"},{name:"分类12",title:"分类12"},{name:"分类13",title:"分类13"},{name:"分类14",title:"分类14"},{name:"分类15",title:"分类15"}]),f=t("分类1");function b({name:e}){o.category=e}function g(){A()}return(e,t)=>{const k=j(S("wd-navbar"),q),C=x,A=j(S("wd-icon"),O),T=m,Q=j(S("wd-popover"),B),X=j(S("wd-search"),E),Y=j(S("wd-tab"),J),F=j(S("wd-tabs"),K);return p(),u(T,{class:"h-full flex flex-col"},{default:i(()=>[c(k,{"left-arrow":"","safe-area-inset-top":"",title:"搜索+标签",onClickLeft:g,class:"left-arrow safe-area-inset-top"}),c(X,{modelValue:$(l),"onUpdate:modelValue":t[0]||(t[0]=e=>V(l)?l.value=e:null),"hide-cancel":"","placeholder-left":"",class:"flex-shrink-0 px-2 hide-cancel placeholder-left",onSearch:n},{prefix:i(()=>[c(Q,{mode:"menu",content:$(s),onMenuclick:r},{default:i(()=>[c(T,{class:"search-type"},{default:i(()=>[c(C,null,{default:i(()=>[v(_($(a)),1)]),_:1}),c(A,{"custom-class":"icon-arrow",name:"fill-arrow-down"})]),_:1})]),_:1},8,["content"])]),_:1},8,["modelValue"]),c(F,{modelValue:$(f),"onUpdate:modelValue":t[1]||(t[1]=e=>V(f)?f.value=e:null),slidable:"always",class:"min-h-50 flex-1",onChange:b},{default:i(()=>[(p(!0),w(h,null,y($(d),e=>(p(),u(Y,{key:e,title:e.title,name:e.name,"auto-line-width":"",class:"auto-line-width"},{default:i(()=>[c(T,{class:"h-_lfl_calc_lbl_100vh-148px_lbr__lfr_"},{default:i(()=>[c(L,{"query-params":$(o)},null,8,["query-params"])]),_:1})]),_:2},1032,["title","name"]))),128))]),_:1},8,["modelValue"])]),_:1})}}}),[["__scopeId","data-v-7c04e20e"]]);export{N as default};
